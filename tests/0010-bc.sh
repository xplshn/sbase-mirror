#!/bin/sh

tmp=$$.tmp

trap 'rm -f $tmp' EXIT
trap 'exit $?' HUP INT TERM

cat <<EOF >$tmp
a(0)=0
a(1)=.78539816339744830961
a(2)=1.10714871779409050301
a(0.9)=.73281510178650659163
a(-0.9)=-.73281510178650659163
s(0)=0
s(a(1))=.70710678118654752439
s(4*a(1))=.00000000000000000002
s(0.2)=.19866933079506121545
c(0.2 + 4*a(1))=-.98006657784124163112
l(2.7182818)=.99999998953050228773
l(e(2))=1.99999999999999999999
j(2,3)=.48609126058589107690
EOF

$EXEC ../bc -p ../dc ../bc.library <<'EOF' 2>&1 | diff -u $tmp -
print "a(0)=",a(0)
print "a(1)=",a(1)
print "a(2)=",a(2)
print "a(0.9)=",a(0.9)
print "a(-0.9)=",a(-0.9)
print "s(0)=",s(0)
print "s(a(1))=",s(a(1))
print "s(4*a(1))=",s(4*a(1))
print "s(0.2)=",s(0.2)
print "c(0.2 + 4*a(1))=",c(0.2 + 4*a(1))
print "l(2.7182818)=",l(2.7182818)
print "l(e(2))=",l(e(2))
print "j(2,3)=",j(2,3)
quit
EOF
